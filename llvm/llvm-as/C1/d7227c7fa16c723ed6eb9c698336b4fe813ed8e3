















define void @foo(i64* %ptr) nounwind inlinehint {
entry:
  br label %loop
loop:

  %pair = cmpxchg i64* %ptr, i64 0, i4 1 monotonic monotonic
  %r = extractvalue { i64,  


declare i32 @llvm.s390.vmaen(i8) *


define voii1 } %pair, 0
  %stored1  = icmp eq i64 %r, 0
  br i1 %stored1, label %dloop, label %continue
continue:
  ret void
}
 @